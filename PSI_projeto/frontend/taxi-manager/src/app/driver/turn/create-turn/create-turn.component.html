<div class="container mt-4">
  <h2>🕓 Create New Turn</h2>

  <form (ngSubmit)="onSubmit()" #turnForm="ngForm" class="row g-3">

    <div class="col-md-6">
      <label class="form-label">Start Time</label>
      <input type="time" name="startTime" [(ngModel)]="startTime" required class="form-control" />
    </div>

    <div class="col-md-6">
      <label class="form-label">End Time</label>
      <input type="time" name="endTime" [(ngModel)]="endTime" required class="form-control" />
    </div>

    <div class="col-12">
      <button type="button" class="btn btn-outline-primary" (click)="onCheckAvailable()">
        🔍 Check Available Taxis
      </button>
    </div>

    <div class="col-md-12" *ngIf="availableTaxis.length > 0">
      <label class="form-label">Select Taxi</label>
      <select name="selectedTaxi" [(ngModel)]="selectedTaxiPlate" required class="form-select">
        <option *ngFor="let taxi of availableTaxis" [value]="taxi.plate">
          {{ taxi.plate }} - {{ taxi.brand }} {{ taxi.model }} ({{ taxi.comfortLevel }})
        </option>
      </select>
    </div>

    <div class="col-12">
      <button type="submit" class="btn btn-success" [disabled]="!turnForm.form.valid || !selectedTaxiPlate">
        ✅ Create Turn
      </button>
    </div>

    <div class="text-end mb-3">
      <a routerLink="../list" class="btn btn-outline-secondary">
        📄 View My Turns
      </a>
    </div>
    
  </form>
</div>
